import{Q as g}from"./QChip-B7b0y-54.js";import{d as B,aZ as r,A as I,c as m,a as t,b as o,w as u,I as w,b$ as O,bU as s,bg as _,bp as C,Q as k,e as p,u as A,o as f}from"./index-BZRtWv1A.js";import{u as M}from"./moduleStore-DII0KIq3.js";import{u as $}from"./waitingStore-DqFMbXSh.js";import{_ as z}from"./_plugin-vue_export-helper-DlAUqK2U.js";const K={class:"waiting-view"},T={class:"waiting-header"},U={class:"waiting-form"},D={class:"form-section"},F={class:"form-section"},Z={class:"person-row"},j={class:"counter"},q={class:"count"},G={class:"person-row"},H={class:"counter"},J={class:"count"},L={key:0,class:"preview-option"},X={key:1,class:"precart-section"},Y={class:"precart-notice"},ee={class:"bottom-actions"},te={class:"module-indicator"},oe=B({__name:"WaitingView",setup(se){const d=A(),l=M(),h=$(),c=r(""),n=r(2),i=r(0),v=r(!1),x=r(!1),b=I(()=>c.value.length>=10&&n.value+i.value>0),V=()=>n.value++,y=()=>{n.value>0&&n.value--},N=()=>i.value++,Q=()=>{i.value>0&&i.value--},S=()=>{l.isOptionEnabled("waiting","menuPreview")&&(x.value=!0,d.push("/service/menu?from=waiting"))},E=()=>{l.isOptionEnabled("waiting","preCart")&&d.push("/service/menu?from=waiting")},P=()=>{b.value&&(v.value=!0,setTimeout(()=>{h.register({phone:c.value,adultCount:n.value,kidCount:i.value}),v.value=!1;const a=l.getNextRoute("waiting");a&&d.push(`/service/${a}`)},1e3))},R=()=>{const a=l.getNextRoute("waiting");a&&d.push(`/service/${a}`)};return(a,e)=>(f(),m("div",K,[t("div",T,[e[2]||(e[2]=t("div",{class:"shop-name"},"아치서울 레스토랑",-1)),o(g,{color:"blue","text-color":"white",size:"sm"},{default:u(()=>[...e[1]||(e[1]=[p(" 현재 대기 12팀 ",-1)])]),_:1})]),t("div",U,[e[8]||(e[8]=t("h2",null,"웨이팅 등록",-1)),t("div",D,[e[3]||(e[3]=t("label",null,"연락처",-1)),o(O,{modelValue:c.value,"onUpdate:modelValue":e[0]||(e[0]=W=>c.value=W),type:"tel",placeholder:"010-0000-0000",outlined:"",dense:""},{prepend:u(()=>[o(k,{name:"phone"})]),_:1},8,["modelValue"])]),t("div",F,[e[6]||(e[6]=t("label",null,"인원",-1)),t("div",Z,[e[4]||(e[4]=t("span",{class:"person-label"},"성인",-1)),t("div",j,[o(s,{flat:"",round:"",icon:"remove",onClick:y,disable:n.value<=0},null,8,["disable"]),t("span",q,_(n.value),1),o(s,{flat:"",round:"",icon:"add",onClick:V})])]),t("div",G,[e[5]||(e[5]=t("span",{class:"person-label"},"아동",-1)),t("div",H,[o(s,{flat:"",round:"",icon:"remove",onClick:Q,disable:i.value<=0},null,8,["disable"]),t("span",J,_(i.value),1),o(s,{flat:"",round:"",icon:"add",onClick:N})])])]),C(l).isOptionEnabled("waiting","menuPreview")?(f(),m("div",L,[o(s,{outline:"",color:"primary",icon:"restaurant_menu",label:"메뉴 미리보기",class:"preview-btn",onClick:S})])):w("",!0),C(l).isOptionEnabled("waiting","preCart")?(f(),m("div",X,[t("div",Y,[o(k,{name:"info",color:"blue"}),e[7]||(e[7]=t("span",null,"대기 중 장바구니에 담은 메뉴는 입장 시 자동 연동됩니다",-1))]),o(s,{outline:"",color:"orange",icon:"shopping_cart",label:"미리 주문하기",class:"precart-btn",onClick:E})])):w("",!0)]),t("div",ee,[o(s,{outline:"",color:"grey",class:"skip-btn",onClick:R},{default:u(()=>[...e[9]||(e[9]=[p(" 건너뛰기 ",-1)])]),_:1}),o(s,{color:"primary",class:"submit-btn",disable:!b.value,loading:v.value,onClick:P},{default:u(()=>[...e[10]||(e[10]=[p(" 웨이팅 등록 ",-1)])]),_:1},8,["disable","loading"])]),t("div",te,[o(g,{color:"blue","text-color":"white",icon:"schedule",size:"sm"},{default:u(()=>[...e[11]||(e[11]=[p(" 웨이팅 모듈 ",-1)])]),_:1})])]))}}),ue=z(oe,[["__scopeId","data-v-7a876ba1"]]);export{ue as default};
