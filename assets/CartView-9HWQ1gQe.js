import{d as P,c as i,a as t,I as m,b as a,H as q,bU as c,bp as e,Q as k,F as B,b0 as S,bg as l,w as C,e as b,u as V,o as r}from"./index-DrEgABWe.js";import{Q as M}from"./QChip-D5bCCKPz.js";import{u as z}from"./moduleStore-CELAy98d.js";import{u as F}from"./cartStore-B4gmBOUb.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={class:"cart-view"},E={class:"cart-header"},$={key:0,class:"empty-cart"},L={key:1,class:"cart-content"},T={class:"cart-list"},D={class:"item-info"},H={class:"price"},R={class:"item-actions"},U={class:"quantity-control"},j={class:"quantity"},A={class:"order-summary"},G={class:"summary-row"},J={key:0,class:"summary-row discount"},K={class:"discount-amount"},O={class:"summary-row total"},W={key:0,class:"benefit-preview"},X={key:2,class:"bottom-actions"},Y={class:"total-info"},Z={class:"total-price"},tt={class:"module-indicator"},st=P({__name:"CartView",setup(ot){const _=V(),y=z(),o=F(),d=n=>n.toLocaleString()+"원",h=n=>{const s=o.items[n];s&&o.updateQuantity(n,s.quantity+1)},g=n=>{const s=o.items[n];s&&s.quantity>1?o.updateQuantity(n,s.quantity-1):s&&o.removeFromCart(n)},w=n=>{o.removeFromCart(n)},I=()=>{_.push("/service/payment")},v=()=>{_.back()},Q=()=>{o.clearCart()};return(n,s)=>(r(),i("div",x,[t("div",E,[a(c,{flat:"",round:"",icon:"arrow_back",onClick:v}),s[0]||(s[0]=t("h1",null,"장바구니",-1)),e(o).totalItems>0?(r(),q(c,{key:0,flat:"",dense:"",label:"전체삭제",color:"red",onClick:Q})):m("",!0)]),e(o).totalItems===0?(r(),i("div",$,[a(k,{name:"shopping_cart",size:"80px",color:"grey-4"}),s[1]||(s[1]=t("p",null,"장바구니가 비어있습니다",-1)),a(c,{outline:"",color:"primary",label:"메뉴 보러가기",onClick:v})])):(r(),i("div",L,[t("div",T,[(r(!0),i(B,null,S(e(o).items,(u,p)=>(r(),i("div",{key:u.menuId,class:"cart-item"},[t("div",D,[t("h3",null,l(u.name),1),t("span",H,l(d(u.price*u.quantity)),1)]),t("div",R,[t("div",U,[a(c,{flat:"",round:"",dense:"",icon:"remove",size:"sm",onClick:f=>g(p)},null,8,["onClick"]),t("span",j,l(u.quantity),1),a(c,{flat:"",round:"",dense:"",icon:"add",size:"sm",onClick:f=>h(p)},null,8,["onClick"])]),a(c,{flat:"",round:"",dense:"",icon:"close",color:"grey",onClick:f=>w(p)},null,8,["onClick"])])]))),128))]),t("div",A,[s[5]||(s[5]=t("h3",null,"주문 내역",-1)),t("div",G,[s[2]||(s[2]=t("span",null,"주문 금액",-1)),t("span",null,l(d(e(o).totalPrice)),1)]),s[6]||(s[6]=t("div",{class:"summary-row"},[t("span",null,"배달비"),t("span",null,"0원")],-1)),e(y).isModuleEnabled("payment")?(r(),i("div",J,[s[3]||(s[3]=t("span",null,"예상 할인",-1)),t("span",K,"-"+l(d(Math.floor(e(o).totalPrice*.05))),1)])):m("",!0),t("div",O,[s[4]||(s[4]=t("span",null,"총 결제금액",-1)),t("span",null,l(d(e(o).totalPrice-Math.floor(e(o).totalPrice*.05))),1)])]),e(y).isModuleEnabled("payment")?(r(),i("div",W,[a(k,{name:"savings",color:"orange"}),s[7]||(s[7]=t("div",{class:"benefit-text"},[t("strong",null,"최대 혜택 비교"),t("p",null,"결제 수단별 혜택을 비교하고 최적의 결제방법을 선택하세요")],-1))])):m("",!0)])),e(o).totalItems>0?(r(),i("div",X,[t("div",Y,[t("span",null,"총 "+l(e(o).totalItems)+"개",1),t("span",Z,l(d(e(o).totalPrice)),1)]),a(c,{color:"primary",class:"pay-btn",onClick:I},{default:C(()=>[b(l(d(e(o).totalPrice))+" 결제하기 ",1)]),_:1})])):m("",!0),t("div",tt,[a(M,{color:"green","text-color":"white",icon:"shopping_cart",size:"sm"},{default:C(()=>[...s[8]||(s[8]=[b(" 장바구니 (메뉴판 하위) ",-1)])]),_:1})])]))}}),it=N(st,[["__scopeId","data-v-9c1136be"]]);export{it as default};
