import{b_ as q,aZ as C,A as d}from"./index-BZRtWv1A.js";const x=q("cartStore",()=>{const t=C([]),p=d(()=>t.value.reduce((e,r)=>e+r.quantity,0)),v=d(()=>t.value.reduce((e,r)=>e+r.price*r.quantity,0)),f=e=>{const r=t.value.findIndex(n=>n.menuId===e.menuId);r>=0?t.value[r].quantity+=e.quantity:t.value.push({menuId:e.menuId,name:e.name,price:e.price,quantity:e.quantity,options:[],totalPrice:e.price*e.quantity})},P=(e,r,n=[])=>{const y=n.reduce((a,i)=>a+i.price,0),s=e.price+y,c=s*r,u=t.value.findIndex(a=>a.menuId!==e.id||a.options.length!==n.length?!1:a.options.every((i,I)=>{var l;return i.id===((l=n[I])==null?void 0:l.id)}));u>=0?(t.value[u].quantity+=r,t.value[u].totalPrice+=c):t.value.push({menuId:e.id,name:e.name,price:s,quantity:r,options:n,totalPrice:c})},m=(e,r)=>{if(r<=0){o(e);return}t.value[e].quantity=r,t.value[e].totalPrice=t.value[e].price*r},o=e=>{t.value.splice(e,1)};return{items:t,totalItems:p,totalPrice:v,addItem:f,addToCart:P,updateQuantity:m,removeFromCart:o,clearCart:()=>{t.value=[]}}},{persist:!0});export{x as u};
